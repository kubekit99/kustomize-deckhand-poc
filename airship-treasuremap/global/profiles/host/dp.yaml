---
apiVersion: drydock.airshipit.org/v1alpha1
kind: DrydockHostProfile
metadata:
  name: dp
  labels:
    hosttype: dp
  layeringDefinition:
    abstract: true
    layer: global
  substitutions:
    - dest:
        path: .oob.credential
      src:
        kind: DeckhandPassphrase
        name: ipmi_admin_password
        path: .
spec:
  oob:
    type: 'ipmi'
    network: 'oob'
    account: 'root'
  storage:
    physical_devices:
      sda:
        labels:
          bootdrive: 'true'
        partitions:
          - name: 'root'
            size: '30g'
            bootable: true
            filesystem:
              mountpoint: '/'
              fstype: 'ext4'
              mount_options: 'defaults'
          - name: 'boot'
            size: '1g'
            filesystem:
              mountpoint: '/boot'
              fstype: 'ext4'
              mount_options: 'defaults'
          - name: 'var'
            size: '>100g'
            filesystem:
              mountpoint: '/var'
              fstype: 'ext4'
              mount_options: 'defaults'
  platform:
    image: 'xenial'
    kernel: 'hwe-16.04'
    kernel_params:
      kernel_package: 'linux-image-4.15.0-34-generic'

  metadata:
    owner_data:
      openstack-nova-compute: enabled
      tenant-ceph-osd: enabled
      openvswitch: enabled
      contrail-vrouter: kernel
      openstack-libvirt: kernel
      beta.kubernetes.io/fluentd-ds-ready: 'true'
      node-exporter: enabled
      fluentbit: enabled
...
